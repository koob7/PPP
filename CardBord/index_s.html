<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>360&deg; Image</title>
    <meta name="description" content="360&deg; Image - A-Frame">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
</head>

<body>
    <a-scene>
        <a-entity id="cameraRig" position="0 0 0">
            <a-entity id="camera" position="0 2 6">
                <a-camera></a-camera>
            </a-entity>
        </a-entity>


        <a-entity box2=" position: 0 1 -5"></a-entity>
        <a-light type="directional" position="2 4 3" intensity="1"></a-light>
        <a-light type="ambient" color="#888"></a-light>
    </a-scene>

    </a-scene>
    <script>
        AFRAME.registerComponent('box2', {
            schema: {
                width: { type: 'number', default: 1 },
                height: { type: 'number', default: 1 },
                depth: { type: 'number', default: 1 },
                color: { type: 'color', default: '#ff0000' }
            },

            init: function () {
                var data = this.data;
                var el = this.el;
                this.geometry = new THREE.BoxGeometry(data.width, data.height, data.depth);
                this.material = new THREE.MeshStandardMaterial({ color: data.color });
                this.mesh = new THREE.Mesh(this.geometry, this.material);
                el.setObject3D('mesh', this.mesh);
            },

            /**
             * Update the mesh in response to property updates.
             */
            update: function (oldData) {
                var data = this.data;
                var el = this.el;

                // If `oldData` is empty, then this means we're in the initialization process.
                // No need to update.
                if (Object.keys(oldData).length === 0) { return; }

                // Geometry-related properties changed. Update the geometry.
                if (data.width !== oldData.width ||
                    data.height !== oldData.height ||
                    data.depth !== oldData.depth) {
                    el.getObject3D('mesh').geometry = new THREE.BoxGeometry(data.width, data.height,
                        data.depth);
                }

                // Material-related properties changed. Update the material.
                if (data.color !== oldData.color) {
                    el.getObject3D('mesh').material.color = new THREE.Color(data.color);
                }
            },
            remove: function () {
                this.el.removeObject3D('mesh');
            },
            tick: function (time, timeDelta) {
                const rotation = this.el.object3D.rotation;
                rotation.z += THREE.MathUtils.degToRad(60) * (timeDelta / 1000); // 60° na sekundę  
            }
        });
    </script>
</body>

</html>